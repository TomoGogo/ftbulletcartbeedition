execute at @s unless block ~ ~ ~ rail run tag @s add derailed

execute as @e[tag=derailed] run function engine/off